<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./styles/gift-page.css">
    <title>Página Presente</title>
</head>

<body>
    <header class="cabecalho">
        <nav class="cabecalho__menu">
            <a class="cabecalho__menu__link" href="#principal__home">Home</a>
            <a class="cabecalho__menu__link" href="#principal__carta">Carta</a>
            <a class="cabecalho__menu__link" href="#principal__fotos">Nossas fotos</a>
        </nav>
    </header>
    <main class="principal">
        <section id="principal__home">
            <h1 class="principal__titulo">Essa página é um presente para você: Feliz Aniversário!</h1>
            <img class="principal__imagem-home" src="../assets/gift-page-1.jpeg"
                alt="Foto do aniversário do meu amigo fulano">
        </section>
        <section id="principal__carta">
            <h1 class="principal__titulo">Uma carta para você</h1>
            <p class="principal__texto">
                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nihil officiis quidem iure nulla dolorem
                officia magni explicabo natus repellat reiciendis aliquid qui eos deserunt sit debitis laborum culpa
                labore, unde in! Repudiandae cupiditate itaque deleniti doloremque asperiores, ipsam consequuntur sint a
                officia repellendus dolorum dicta quia corporis suscipit ipsa quae! Lorem ipsum dolor, sit amet
                consectetur adipisicing elit. Dolorem dolore voluptate facere sunt deserunt repudiandae quasi earum
                numquam labore enim est ut, suscipit assumenda cumque tempora molestias eos, repellendus quis magnam
                placeat debitis aspernatur adipisci consequuntur. Eaque ipsum dolor architecto quis cumque dicta, dolore
                ullam totam nam optio quidem id. Lorem, ipsum dolor sit amet consectetur adipisicing elit. Inventore
                recusandae perspiciatis qui eos asperiores tenetur tempore, dolores totam optio. Consectetur accusantium
                dolorem minus necessitatibus nulla dolorum rem cupiditate fugiat impedit nostrum, tempore explicabo
                eveniet eos quas atque mollitia. Debitis hic eum recusandae delectus ducimus enim explicabo. Ullam
                suscipit facere hic autem nobis eum rerum, quis quidem, eius beatae aperiam dolor nesciunt laborum odit
                illo, inventore debitis! Dicta molestiae perspiciatis veritatis eius corrupti vel cum unde earum culpa
                modi corporis, commodi ut facilis? Doloribus velit quod maxime corrupti voluptatem. Perspiciatis labore
                voluptatibus magni accusantium fugit mollitia itaque, impedit natus tempora molestias.
            </p>
        </section>
        <section id="principal__fotos">
            <h1 class="principal__titulo">Nossas fotos</h1>
            <div class="principal__fotos__galeria">
                <div class="principal__fotos__galeria__conjunto">
                    <img class="principal__imagem" src="../assets/gift-page-2.jpeg">
                    <img class="principal__imagem" src="../assets/gift-page-3.jpeg">
                    <img class="principal__imagem" src="../assets/gift-page-4.jpeg">
                </div>
                <div class="principal__fotos__galeria__conjunto">
                    <img class="principal__imagem" src="../assets/gift-page-5.jpeg">
                    <img class="principal__imagem" src="../assets/gift-page-6.jpeg">
                    <img class="principal__imagem" src="../assets/gift-page-7.jpeg">
                </div>
            </div>
        </section>
    </main>
    <footer class="rodape">
        <p>Criado em agosto de 2024</p>
        <p>Desenvolvido por Miguel Fernando</p>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <script>
        const start = () => {
            setTimeout(function () {
                var duration = 15 * 1000;
                var animationEnd = Date.now() + duration;
                var skew = 1;

                function randomInRange(min, max) {
                    return Math.random() * (max - min) + min;
                }

                function getRandomRainbowColor() {
                    const rainbowRanges = [
                        // Red
                        { min: "#ff0000", max: "#ff6000" },
                        // Orange
                        { min: "#ff6000", max: "#ffd000" },
                        // Yellow
                        { min: "#ffd000", max: "#ffff00" },
                        // Green
                        { min: "#ffff00", max: "#00ff00" },
                        // Blue
                        { min: "#00ff00", max: "#0000ff" },
                        // Indigo
                        { min: "#0000ff", max: "#4b0082" },
                        // Violet
                        { min: "#4b0082", max: "#7f00ff" }
                    ];

                    // Randomly select a rainbow range
                    const randomRange = rainbowRanges[Math.floor(Math.random() * rainbowRanges.length)];

                    // Convert hex color strings to integer values
                    const minInt = parseInt(randomRange.min.replace("#", ""), 16);
                    const maxInt = parseInt(randomRange.max.replace("#", ""), 16);

                    // Generate a random integer within the range
                    const randomInt = Math.floor(Math.random() * (maxInt - minInt + 1)) + minInt;

                    // Convert the random integer back to hex color string
                    const randomColor = "#" + randomInt.toString(16).padStart(6, "0");

                    return randomColor;
                }

                (function
                    frame() {
                    var timeLeft = animationEnd - Date.now();
                    var ticks = Math.max(200, 500 * (timeLeft / duration));
                    skew = Math.max(0.8, skew - 0.001);


                    const color = getRandomRainbowColor(); // Generate random color for each particle

                    confetti({
                        particleCount: 1,
                        startVelocity: 0,
                        ticks: ticks,
                        origin: {
                            x: Math.random(),
                            y: (Math.random() * skew) - 0.2
                        },
                        colors: [color], // Set the generated color
                        shapes: ['circle'],
                        gravity: randomInRange(0.4, 0.6),
                        scalar: randomInRange(0.4, 1),
                        drift: randomInRange(-0.4, 0.4)
                    });

                    if (timeLeft > 0) {
                        requestAnimationFrame(frame);

                    }
                })();

                let sections = document.querySelectorAll('section');
                let navLinks = document.querySelectorAll('header nav a');

                window.onscroll = () => {
                    document.addEventListener('DOMContentLoaded', () => {
                        sections.forEach(sec => {
                            let top = window.scrollY;
                            let offset = sec.offsetTop - 150;
                            let height = sec.offsetHeight;
                            let id = sec.getAttribute('id');

                            if (top >= offset && top < offset + height) {
                                navLinks.forEach(link => {
                                    link.classList.remove('active');
                                    const activeLink = document.querySelector(`header nav a [href="#${id}"]`);
                                    if (activeLink) {
                                        activeLink.classList.add('active');
                                    }
                                });
                            }
                        });
                    });
                };

            });
        };

        start();

    </script>
</body>

</html>